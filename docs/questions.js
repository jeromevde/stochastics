const chapters = [
  {
    id: 1,
    title: "Ch 1 â€“ Motivation",
    questions: [
      {
        id: "1.1",
        type: "mc",
        question: "Which type of scenarios is used to compute counterparty credit risk for OTC transactions?",
        options: [
          "Risk-neutral scenarios",
          "Real-world scenarios",
          "Historical scenarios only",
          "Deterministic scenarios"
        ],
        answer: 1,
        explanation: "Counterparty credit risk requires real-world scenarios â€” paths whose probabilities correspond to the observed or expected distribution in the real world."
      },
      {
        id: "1.2",
        type: "mc",
        question: "According to the fundamental asset pricing theorem, how do we compute the fair value of a derivative?",
        options: [
          "By computing the undiscounted expected payoff in the real world",
          "By computing the discounted expected payoff in the risk-neutral world",
          "By taking the maximum of all possible payoffs",
          "By computing the historical average payoff"
        ],
        answer: 1,
        explanation: "The fundamental asset pricing theorem states that the fair value equals the discounted expected payoff under the risk-neutral measure."
      },
      {
        id: "1.3",
        type: "mc",
        question: "Why do we need a stochastic *process* rather than just a random variable to price certain derivatives?",
        options: [
          "Because all derivatives have multiple payment dates",
          "Because some derivatives (e.g. lookback options) depend on the asset value at multiple future times",
          "Because random variables cannot model stock prices",
          "Because regulators require stochastic processes"
        ],
        answer: 1,
        explanation: "Path-dependent derivatives like lookback options depend on the asset's value at many different future times, requiring a full stochastic process."
      },
      {
        id: "1.4",
        type: "mc",
        question: "In the risk-neutral world, the expected growth rate of stock prices equals:",
        options: [
          "The historical average return",
          "Zero",
          "The risk-free spot rate",
          "The stock's dividend yield"
        ],
        answer: 2,
        explanation: "In the risk-neutral world, stock prices are expected to grow at the risk-free rate. This ensures the discounted stock price is a martingale."
      },
      {
        id: "1.5",
        type: "mc",
        question: "Value at Risk (VaR) measures:",
        options: [
          "The expected profit on a portfolio",
          "The maximum possible loss on a portfolio",
          "The potential loss over a holding period within a given confidence level",
          "The standard deviation of portfolio returns"
        ],
        answer: 2,
        explanation: "VaR measures how much money can be lost on a portfolio over a given holding period within a given confidence level."
      }
    ]
  },
  {
    id: 2,
    title: "Ch 2 â€“ Stochastic Calculus",
    questions: [
      {
        id: "2.1",
        type: "mc",
        question: "A Ïƒ-algebra ğ“• on a set Î© must satisfy all of the following EXCEPT:",
        options: [
          "Î© âˆˆ ğ“•",
          "Closed under complements",
          "Closed under countable unions",
          "Closed under arbitrary (uncountable) unions"
        ],
        answer: 3,
        explanation: "A Ïƒ-algebra must contain Î© and be closed under complements and countable unions. It need not be closed under uncountable unions."
      },
      {
        id: "2.2",
        type: "mc",
        question: "The smallest Ïƒ-algebra on Î© = {1,2,3,4,5,6} is:",
        options: [
          "{âˆ…, Î©}",
          "The power set of Î©",
          "{âˆ…, {1}, {2,3,4,5,6}, Î©}",
          "{âˆ…}"
        ],
        answer: 0,
        explanation: "The smallest (trivial) Ïƒ-algebra on any set Î© is {âˆ…, Î©}. It always satisfies the three axioms."
      },
      {
        id: "2.3",
        type: "mc",
        question: "The Borel Ïƒ-algebra on â„ is generated by:",
        options: [
          "All subsets of â„",
          "All open sets in â„",
          "All closed intervals [a,b]",
          "All singletons {x}"
        ],
        answer: 1,
        explanation: "The Borel Ïƒ-algebra â„¬(â„) is generated by all open sets in â„. Equivalently, it can be generated by all open intervals (a,b)."
      },
      {
        id: "2.4",
        type: "mc",
        question: "A probability measure P on (Î©, ğ“•) must satisfy:",
        options: [
          "P(Î©) = 0",
          "P(Î©) = 1 and P is Ïƒ-additive on disjoint sets",
          "P(A) > 0 for all A âˆˆ ğ“•",
          "P is finitely additive only"
        ],
        answer: 1,
        explanation: "A probability measure is a measure with P(Î©) = 1. It must be Ïƒ-additive (countably additive) on disjoint sets."
      },
      {
        id: "2.5",
        type: "mc",
        question: "A random variable X on (Î©, ğ“•, P) is a measurable function from:",
        options: [
          "(â„, â„¬(â„)) â†’ (Î©, ğ“•)",
          "(Î©, ğ“•) â†’ (â„, â„¬(â„))",
          "(Î©, P) â†’ (â„, P)",
          "(â„, ğ“•) â†’ (Î©, â„¬(â„))"
        ],
        answer: 1,
        explanation: "A random variable is a measurable function X: (Î©, ğ“•) â†’ (â„, â„¬(â„)), meaning preimages of Borel sets are in ğ“•."
      },
      {
        id: "2.6",
        type: "mc",
        question: "The Ïƒ-algebra generated by a random variable X is:",
        options: [
          "{Xâ»Â¹(U) | U âˆˆ â„¬(â„)}",
          "The power set of Î©",
          "{A âˆˆ ğ“• | P(A) > 0}",
          "The Borel Ïƒ-algebra"
        ],
        answer: 0,
        explanation: "Ïƒ(X) = {Xâ»Â¹(U) | U âˆˆ â„¬(â„)} consists of all preimages of Borel sets under X. It represents the information contained in X."
      },
      {
        id: "2.7",
        type: "mc",
        question: "Two random variables X, Y are independent if and only if for every A âˆˆ Ïƒ(X), B âˆˆ Ïƒ(Y):",
        options: [
          "P(A âˆª B) = P(A) + P(B)",
          "P(A âˆ© B) = P(A) Â· P(B)",
          "E(XY) = 0",
          "Cov(X,Y) = 0"
        ],
        answer: 1,
        explanation: "Independence means P(A âˆ© B) = P(A)Â·P(B) for all events in the respective generated Ïƒ-algebras. Note: uncorrelated (Cov = 0) does not imply independence."
      },
      {
        id: "2.8",
        type: "mc",
        question: "The conditional expectation E(X|ğ“—) is characterized by the property that for every H âˆˆ ğ“—:",
        options: [
          "âˆ«_H E(X|ğ“—) dP = E(X)",
          "âˆ«_H E(X|ğ“—) dP = âˆ«_H X dP",
          "E(X|ğ“—) = E(X)",
          "E(X|ğ“—) is constant"
        ],
        answer: 1,
        explanation: "The defining property of conditional expectation is âˆ«_H E(X|ğ“—) dP = âˆ«_H X dP for every H âˆˆ ğ“—. This makes it the best ğ“—-measurable approximation of X."
      },
      {
        id: "2.9",
        type: "mc",
        question: "The tower law states that for Ïƒ-algebras ğ“–â‚ âŠ† ğ“–â‚‚ âŠ† ğ“•:",
        options: [
          "E[E[X|ğ“–â‚]|ğ“–â‚‚] = E[X|ğ“–â‚]",
          "E[E[X|ğ“–â‚‚]|ğ“–â‚] = E[X|ğ“–â‚]",
          "E[E[X|ğ“–â‚‚]|ğ“–â‚] = E[X|ğ“–â‚‚]",
          "E[E[X|ğ“–â‚]|ğ“–â‚‚] = E[X|ğ“–â‚‚]"
        ],
        answer: 1,
        explanation: "The tower law: E[E[X|ğ“–â‚‚]|ğ“–â‚] = E[X|ğ“–â‚] a.s. Conditioning on less information (ğ“–â‚ âŠ‚ ğ“–â‚‚) 'smooths out' the finer conditioning."
      },
      {
        id: "2.10",
        type: "mc",
        question: "Almost sure convergence implies:",
        options: [
          "Convergence in mean square",
          "Convergence in distribution only",
          "Convergence in probability",
          "Uniform convergence"
        ],
        answer: 2,
        explanation: "Almost sure convergence â‡’ convergence in probability. Also, convergence in mean square â‡’ convergence in probability. But a.s. convergence does NOT imply mean square convergence in general."
      },
      {
        id: "2.11",
        type: "mc",
        question: "A stochastic process Xâ‚œ is adapted to a filtration (ğ“•â‚œ) if:",
        options: [
          "Xâ‚œ is ğ“•â‚›-measurable for all s > t",
          "Xâ‚œ is ğ“•â‚œ-measurable for all t",
          "Xâ‚œ is independent of ğ“•â‚œ for all t",
          "Xâ‚œ has continuous paths"
        ],
        answer: 1,
        explanation: "An adapted process is one where Xâ‚œ is ğ“•â‚œ-measurable for each t. Intuitively, it cannot 'see into the future' â€” its value at time t is determined by information available at time t."
      },
      {
        id: "2.12",
        type: "mc",
        question: "A filtration (ğ“•â‚œ) on a probability space must satisfy:",
        options: [
          "ğ“•â‚› âŠ‚ ğ“•â‚œ for all t â‰¤ s",
          "ğ“•â‚œ âŠ‚ ğ“•â‚› for all t â‰¤ s",
          "ğ“•â‚œ = ğ“•â‚› for all t, s",
          "ğ“•â‚œ âŠ‚ ğ“•â‚€ for all t"
        ],
        answer: 1,
        explanation: "A filtration is an increasing family of Ïƒ-algebras: ğ“•â‚œ âŠ‚ ğ“•â‚› for t â‰¤ s. This models increasing information over time."
      },
      {
        id: "2.13",
        type: "mc",
        question: "A martingale Mâ‚œ with respect to filtration (ğ“•â‚œ) satisfies:",
        options: [
          "E(Mâ‚œ|ğ“•â‚›) = Mâ‚œ for s < t",
          "E(Mâ‚œ|ğ“•â‚›) = Mâ‚› for s < t",
          "E(Mâ‚œ|ğ“•â‚›) = 0 for s < t",
          "E(Mâ‚œ|ğ“•â‚›) = E(Mâ‚›) for s < t"
        ],
        answer: 1,
        explanation: "The martingale property: E(Mâ‚œ|ğ“•â‚›) = Mâ‚› for s â‰¤ t. A martingale is a 'fair game' â€” the best prediction of its future value is its current value."
      },
      {
        id: "2.14",
        type: "mc",
        question: "A stopping time Ï„ with respect to filtration (ğ“•â‚œ) satisfies:",
        options: [
          "{Ï„ > t} âˆˆ ğ“•â‚œ for all t",
          "{Ï„ < t} âˆˆ ğ“•â‚œ for all t",
          "{Ï„ = t} âˆˆ ğ“•â‚œ for all t",
          "Ï„ is constant"
        ],
        answer: 1,
        explanation: "A stopping time satisfies {Ï„ < t} âˆˆ ğ“•â‚œ for all t. You can decide whether to stop based only on information available up to time t."
      },
      {
        id: "2.15",
        type: "mc",
        question: "The quadratic variation [B]â‚œ of a standard Brownian motion B(t) equals:",
        options: ["0", "tÂ²", "t", "âˆšt"],
        answer: 2,
        explanation: "[B]â‚œ = t. This is often written as (dB)Â² = dt. It is a fundamental property of Brownian motion and key to ItÃ´ calculus."
      },
      {
        id: "2.16",
        type: "mc",
        question: "Brownian motion has which of these properties?",
        options: [
          "Almost surely differentiable paths",
          "Bounded variation on finite intervals",
          "Almost surely nowhere differentiable paths",
          "Piecewise linear paths"
        ],
        answer: 2,
        explanation: "Brownian motion is a.s. nowhere differentiable and has unbounded variation on any interval. Despite being continuous, its paths are extremely rough."
      },
      {
        id: "2.17",
        type: "mc",
        question: "For Brownian motion B(t), the increment B(t) âˆ’ B(s) for s < t has distribution:",
        options: [
          "N(0, t)",
          "N(0, t âˆ’ s)",
          "N(0, (tâˆ’s)Â²)",
          "N(s, tâˆ’s)"
        ],
        answer: 1,
        explanation: "B(t) âˆ’ B(s) ~ N(0, t âˆ’ s). The variance equals the length of the time interval, and the mean is 0."
      },
      {
        id: "2.18",
        type: "mc",
        question: "The ItÃ´ integral âˆ«â‚€áµ— f(s,B(s)) dB(s) evaluates the integrand at:",
        options: [
          "The right endpoint of each partition interval",
          "The midpoint of each partition interval",
          "The left endpoint of each partition interval",
          "A random point in each partition interval"
        ],
        answer: 2,
        explanation: "The ItÃ´ integral uses left-endpoint evaluation: Î£ f(táµ¢â‚‹â‚, B(táµ¢â‚‹â‚))(B(táµ¢) âˆ’ B(táµ¢â‚‹â‚)). This is crucial â€” it makes the integral a martingale."
      },
      {
        id: "2.19",
        type: "mc",
        question: "âˆ«â‚€áµ— B(s) dB(s) equals:",
        options: [
          "B(t)Â²/2",
          "Â½(B(t)Â² âˆ’ t)",
          "Â½(B(t)Â² + t)",
          "B(t)Â² âˆ’ t"
        ],
        answer: 1,
        explanation: "âˆ«â‚€áµ— B(s)dB(s) = Â½(B(t)Â² âˆ’ t). The âˆ’t term is the ItÃ´ correction and distinguishes stochastic from ordinary calculus."
      },
      {
        id: "2.20",
        type: "mc",
        question: "If we used the midpoint rule (a = Â½) instead of the left-endpoint rule in the stochastic integral âˆ«â‚€áµ— B(s) dB(s), we would get:",
        options: [
          "Â½(B(t)Â² âˆ’ t)",
          "Â½ B(t)Â²",
          "Â½(B(t)Â² + t)",
          "B(t)Â²"
        ],
        answer: 1,
        explanation: "With evaluation parameter a = Â½ (Stratonovich integral), the integral becomes Â½(B(t)Â² âˆ’ t) + Â½t = Â½B(t)Â², recovering the ordinary calculus rule."
      },
      {
        id: "2.21",
        type: "mc",
        question: "The ItÃ´ isometry states that E[(âˆ«â‚€áµ— f(s) dB(s))Â²] equals:",
        options: [
          "âˆ«â‚€áµ— f(s) ds",
          "âˆ«â‚€áµ— f(s)Â² ds",
          "(âˆ«â‚€áµ— f(s) ds)Â²",
          "âˆ«â‚€áµ— E(f(s)) ds"
        ],
        answer: 1,
        explanation: "The ItÃ´ isometry: E[(âˆ«â‚€áµ— f(s) dB(s))Â²] = âˆ«â‚€áµ— f(s)Â² ds for deterministic f. It converts 'stochastic LÂ²' to ordinary LÂ²."
      },
      {
        id: "2.22",
        type: "mc",
        question: "For a deterministic function f(s), âˆ«â‚€áµ— f(s) dB(s) has distribution:",
        options: [
          "N(0, âˆ«â‚€áµ— f(s) ds)",
          "N(âˆ«â‚€áµ— f(s) ds, t)",
          "N(0, âˆ«â‚€áµ— f(s)Â² ds)",
          "N(0, t Â· max f(s)Â²)"
        ],
        answer: 2,
        explanation: "âˆ«â‚€áµ— f(s) dB(s) ~ N(0, âˆ«â‚€áµ— f(s)Â² ds). This follows from the ItÃ´ isometry and the fact that the ItÃ´ integral of a deterministic function is Gaussian."
      },
      {
        id: "2.23",
        type: "mc",
        question: "ItÃ´'s lemma for f(B(t), t) gives df = fâ‚œ dt + fâ‚“ dB + ?",
        options: [
          "Â½ fâ‚“â‚“ dBÂ²",
          "Â½ fâ‚“â‚“ dt",
          "fâ‚“â‚“ dt",
          "Â½ fâ‚“â‚“ dB"
        ],
        answer: 1,
        explanation: "ItÃ´'s lemma: df = fâ‚œ dt + fâ‚“ dB + Â½ fâ‚“â‚“ dt. The extra Â½ fâ‚“â‚“ dt term arises because (dB)Â² = dt (non-zero quadratic variation)."
      },
      {
        id: "2.24",
        type: "mc",
        question: "A continuously differentiable function has quadratic variation equal to:",
        options: ["Its total variation", "t", "0", "Its maximum value"],
        answer: 2,
        explanation: "A continuously differentiable function has zero quadratic variation. The sum Î£(f(táµ¢)âˆ’f(táµ¢â‚‹â‚))Â² â†’ 0 as the mesh of the partition â†’ 0, because increments are O(Î”t)."
      },
      {
        id: "2.25",
        type: "mc",
        question: "For 2D Brownian motion (Bâ‚, Bâ‚‚) with correlation Ï, the quadratic covariation [Bâ‚, Bâ‚‚]â‚œ equals:",
        options: ["0", "t", "Ït", "ÏÂ²t"],
        answer: 2,
        explanation: "[Bâ‚, Bâ‚‚]â‚œ = Ït, often written as dBâ‚Â·dBâ‚‚ = Ï dt. This follows from the definition of quadratic covariation and the joint normal distribution of increments."
      },
      {
        id: "2.26",
        type: "mc",
        question: "An ItÃ´ process dX = Î¼ dt + Ïƒ dB has ItÃ´'s lemma for f(X,t) as: df = fâ‚œ dt + fâ‚“ dX + ?",
        options: [
          "Â½ fâ‚“â‚“ dt",
          "Â½ fâ‚“â‚“ ÏƒÂ² dt",
          "Â½ fâ‚“â‚“ Î¼Â² dt",
          "fâ‚“â‚“ ÏƒÂ² dt"
        ],
        answer: 1,
        explanation: "For ItÃ´ processes: df = fâ‚œ dt + fâ‚“ dX + Â½ fâ‚“â‚“ ÏƒÂ² dt. The correction involves ÏƒÂ² because (dX)Â² = ÏƒÂ²(dB)Â² = ÏƒÂ² dt."
      },
      {
        id: "2.27",
        type: "mc",
        question: "A semimartingale is the sum of:",
        options: [
          "Two martingales",
          "A martingale and a cÃ dlÃ g adapted finite-variation process",
          "Brownian motion and a Poisson process",
          "A deterministic function and Brownian motion"
        ],
        answer: 1,
        explanation: "A semimartingale = local martingale + cÃ dlÃ g adapted finite-variation process. This is the most general class of processes for which the ItÃ´ integral is well-defined."
      },
      {
        id: "2.28",
        type: "mc",
        question: "A cÃ dlÃ g process is:",
        options: [
          "Left continuous with right limits",
          "Right continuous with left limits",
          "Continuous everywhere",
          "Differentiable almost everywhere"
        ],
        answer: 1,
        explanation: "CÃ dlÃ g = continue Ã  droite, limite Ã  gauche = right continuous with left limits. Most processes in stochastic finance are cÃ dlÃ g."
      },
      {
        id: "2.29",
        type: "mc",
        question: "The function f(t) = sin(1/t) for t > 0 on (0, 1] has:",
        options: [
          "Bounded variation",
          "Unbounded variation",
          "Zero total variation",
          "Finite quadratic variation equal to 1"
        ],
        answer: 1,
        explanation: "sin(1/t) oscillates infinitely often near t = 0, accumulating infinite total variation. It is a classic example of a continuous function with unbounded variation."
      },
      {
        id: "2.30",
        type: "mc",
        question: "CarathÃ©odory's extension theorem guarantees a unique extension of a Ïƒ-finite pre-measure on a semi-ring to:",
        options: [
          "The power set",
          "The generated Ïƒ-algebra",
          "The Borel Ïƒ-algebra",
          "Any larger Ïƒ-algebra"
        ],
        answer: 1,
        explanation: "CarathÃ©odory's theorem: a Ïƒ-finite pre-measure on a semi-ring extends uniquely to a measure on Ïƒ(S), the Ïƒ-algebra generated by the semi-ring."
      },
      {
        id: "2.31",
        type: "mc",
        question: "E[B(t)Â²] for standard Brownian motion equals:",
        options: ["0", "tÂ²", "t", "2t"],
        answer: 2,
        explanation: "Since B(t) ~ N(0, t), we have E[B(t)Â²] = Var(B(t)) = t."
      },
      {
        id: "2.32",
        type: "mc",
        question: "The reflection principle for Brownian motion states that P(sup_{0â‰¤sâ‰¤t} B(s) â‰¥ b) equals (for b â‰¥ 0):",
        options: [
          "P(B(t) â‰¥ b)",
          "2P(B(t) â‰¥ b)",
          "P(B(t) â‰¥ b)Â²",
          "1 âˆ’ P(B(t) â‰¥ b)"
        ],
        answer: 1,
        explanation: "The reflection principle: P(max_{0â‰¤sâ‰¤t} B(s) â‰¥ b) = 2P(B(t) â‰¥ b) for b â‰¥ 0. This is useful in pricing barrier options."
      },
      {
        id: "2.33",
        type: "mc",
        question: "A local martingale is a process whose stopped versions Xâ‚˜áµ¢â‚™(Ï„â‚–,t) are:",
        options: [
          "Submartingales",
          "Supermartingales",
          "Martingales",
          "Semimartingales"
        ],
        answer: 2,
        explanation: "A local martingale has an increasing sequence of stopping times Ï„â‚– â†’ âˆ a.s. such that each stopped process X_{min(Ï„â‚–,t)} is a true martingale."
      },
      {
        id: "2.34",
        type: "numeric",
        question: "If B(t) is standard Brownian motion, what is E[âˆ«â‚€áµ— B(s) dB(s)]?",
        answer: 0,
        tolerance: 0,
        explanation: "The ItÃ´ integral of an adapted process is a martingale (starting at 0), so its expectation is 0. Alternatively: E[Â½(B(t)Â²âˆ’t)] = Â½(tâˆ’t) = 0."
      },
      {
        id: "2.35",
        type: "mc",
        question: "The Lebesgue integral of an indicator function 1_A with respect to measure Î¼ equals:",
        options: [
          "P(A)",
          "Î¼(A)",
          "1",
          "0 or 1"
        ],
        answer: 1,
        explanation: "âˆ«_Î© 1_A dÎ¼ = Î¼(A). This is a fundamental property of the Lebesgue integral â€” it links integration to the measure of sets."
      }
    ]
  },
  {
    id: 3,
    title: "Ch 3 â€“ Derivative Valuation",
    questions: [
      {
        id: "3.1",
        type: "mc",
        question: "The First Fundamental Asset Pricing Theorem states that a market model is arbitrage-free if and only if:",
        options: [
          "All asset prices are positive",
          "There exists an equivalent martingale measure",
          "Stock volatility is constant",
          "All derivatives can be replicated"
        ],
        answer: 1,
        explanation: "The 1st FAPT: no arbitrage âŸº there exists a probability measure equivalent to the real-world measure under which discounted asset prices are martingales."
      },
      {
        id: "3.2",
        type: "mc",
        question: "The Second Fundamental Asset Pricing Theorem states that a market is complete if and only if:",
        options: [
          "There are at least two assets",
          "There exists exactly one equivalent martingale measure",
          "All assets have finite variance",
          "Volatility is deterministic"
        ],
        answer: 1,
        explanation: "The 2nd FAPT: completeness âŸº the equivalent martingale measure is unique. In an incomplete market, there are infinitely many risk-neutral measures."
      },
      {
        id: "3.3",
        type: "mc",
        question: "Two measures P and Q on (Î©, ğ“•) are equivalent if:",
        options: [
          "P = Q",
          "They assign the same probability to all events",
          "Events with probability 0 under one also have probability 0 under the other",
          "They have the same variance"
        ],
        answer: 2,
        explanation: "Equivalent measures agree on which events are possible (probability > 0) and impossible (probability = 0), but may assign different positive probabilities."
      },
      {
        id: "3.4",
        type: "mc",
        question: "Under a risk-neutral measure Q with bank account numeraire, the value V(t) of a derivative satisfies:",
        options: [
          "V(t) = E^Q[V(T)]",
          "V(t)/N(t) = E^Q[V(T)/N(T) | ğ“•â‚œ]",
          "V(t) = V(T) Â· e^{-rT}",
          "V(t) = max V(T)"
        ],
        answer: 1,
        explanation: "V(t)/N(t) = E^Q[V(T)/N(T) | ğ“•â‚œ] â€” the discounted derivative price is a martingale under the risk-neutral measure."
      },
      {
        id: "3.5",
        type: "mc",
        question: "Consider a 1-period model: S(0)=1, S(1)=2 (prob p) or S(1)=Â½ (prob 1âˆ’p), zero interest rate. The risk-neutral upward probability is:",
        options: ["Â½", "â…“", "â…”", "Â¼"],
        answer: 1,
        explanation: "Risk-neutral probability q satisfies: S(0) = qÂ·2 + (1âˆ’q)Â·Â½ â†’ 1 = 2q + Â½ âˆ’ Â½q â†’ q = â…“."
      },
      {
        id: "3.6",
        type: "mc",
        question: "In the same 1-period model, a digital call paying 1 if S(1)=2 has time-0 value:",
        options: ["Â½", "â…“", "â…”", "1"],
        answer: 1,
        explanation: "V(0) = E^Q[V(1)] = â…“ Â· 1 + â…” Â· 0 = â…“. The risk-neutral probability of the up move is â…“."
      },
      {
        id: "3.7",
        type: "mc",
        question: "If S(1) has three possible values {2, 1, Â½} in a 1-period model with S(0) = 1 and r = 0, the model is:",
        options: [
          "Complete â€” one unique risk-neutral measure exists",
          "Incomplete â€” multiple risk-neutral measures exist",
          "Arbitrage-free only if probabilities are equal",
          "Not arbitrage-free"
        ],
        answer: 1,
        explanation: "With 3 states and 2 assets (stock + bond), the model is incomplete. Multiple equivalent martingale measures exist, leading to a range of no-arbitrage prices."
      },
      {
        id: "3.8",
        type: "mc",
        question: "The Feynman-Kac equation for the claim value f(x,t) with dx = Î¼(x,t)dt + Ïƒ(x,t)dB includes the term:",
        options: [
          "Â½ fâ‚“â‚“ ÏƒÂ² only",
          "fâ‚œ + fâ‚“ Î¼ + Â½ fâ‚“â‚“ ÏƒÂ² = rf",
          "fâ‚œ + fâ‚“ Ïƒ + Â½ fâ‚“â‚“ Î¼Â² = rf",
          "fâ‚œ + Â½ fâ‚“â‚“ = 0"
        ],
        answer: 1,
        explanation: "The Feynman-Kac PDE: fâ‚œ + Î¼ fâ‚“ + Â½ÏƒÂ² fâ‚“â‚“ = rf, with boundary condition f(x,T) = g(x). The risk-neutral drift Î¼ = rx for a stock."
      },
      {
        id: "3.9",
        type: "mc",
        question: "The Fokker-Planck equation describes the evolution of:",
        options: [
          "The derivative price",
          "The transition probability density",
          "The volatility",
          "The interest rate"
        ],
        answer: 1,
        explanation: "The Fokker-Planck (forward Kolmogorov) equation: âˆ‚Ï/âˆ‚t = âˆ’âˆ‚(Î¼Ï)/âˆ‚x + Â½ âˆ‚Â²(ÏƒÂ²Ï)/âˆ‚xÂ². It governs how the probability density evolves over time."
      },
      {
        id: "3.10",
        type: "mc",
        question: "The DolÃ©ans-Dade exponential â„°(X)â‚œ is defined as:",
        options: [
          "e^{X(t)}",
          "e^{X(t) âˆ’ Â½[X]â‚œ}",
          "e^{X(t) + Â½[X]â‚œ}",
          "e^{Â½X(t)Â²}"
        ],
        answer: 1,
        explanation: "â„°(X)â‚œ = exp(X(t) âˆ’ Â½[X]â‚œ). When X is a stochastic integral, this exponential is a local martingale. It appears in Girsanov's theorem."
      },
      {
        id: "3.11",
        type: "mc",
        question: "Girsanov's theorem: if Y^P is P-Brownian motion and X is continuous with â„°(X)â‚œ a positive martingale, then under Q:",
        options: [
          "Y^P is still Brownian motion",
          "Y^Q = Y^P âˆ’ [X, Y^P]â‚œ is Q-Brownian motion",
          "Y^Q = Y^P + [X, Y^P]â‚œ is Q-Brownian motion",
          "Y^P becomes a Poisson process"
        ],
        answer: 1,
        explanation: "Girsanov: Y^Q = Y^P âˆ’ [X, Y^P]â‚œ is a Q-local martingale. When Y^P is Brownian motion and X is continuous, Y^Q is Q-Brownian motion."
      },
      {
        id: "3.12",
        type: "mc",
        question: "If B(t) is P-Brownian motion and dQ/dP|_{ğ“•â‚œ} = e^{Î¼B(t) âˆ’ Î¼Â²t/2}, then under Q:",
        options: [
          "B(t) is still Brownian motion",
          "B(t) âˆ’ Î¼t is Q-Brownian motion",
          "B(t) + Î¼t is Q-Brownian motion",
          "B(t)/Î¼ is Q-Brownian motion"
        ],
        answer: 1,
        explanation: "This is a direct application of Girsanov: B(t) âˆ’ Î¼t is Brownian motion under Q. The measure change adds drift Î¼ to the original Brownian motion."
      },
      {
        id: "3.13",
        type: "mc",
        question: "Under the risk-neutral measure with bank account numeraire, the expected return on ANY derivative equals:",
        options: [
          "The market return",
          "The risk-free rate",
          "Zero",
          "The stock's drift"
        ],
        answer: 1,
        explanation: "Under an equivalent martingale measure with the riskfree bank account as numeraire, every tradable asset (and derivative) has expected return equal to the risk-free rate."
      },
      {
        id: "3.14",
        type: "mc",
        question: "The change of numeraire toolkit: when switching from numeraire S to U, the drift change involves:",
        options: [
          "Adding ÏƒÂ²",
          "Subtracting dâŸ¨ln Xáµ¢, ln(S/U)âŸ©",
          "Multiplying by S/U",
          "No drift change"
        ],
        answer: 1,
        explanation: "dÎ¼áµ¢^U = dÎ¼áµ¢^S âˆ’ dâŸ¨ln Xáµ¢, ln(S/U)âŸ©. The drift adjustment involves the quadratic covariation of the log-process with the log-ratio of numeraires."
      },
      {
        id: "3.15",
        type: "mc",
        question: "In an FX model, if dX/X = (râ‚ âˆ’ r_f)dt + Ïƒ_X dW under the domestic measure, the Radon-NikodÃ½m derivative dP_f/dPâ‚ relates to:",
        options: [
          "The bank account ratio",
          "Y(t) = X(t)B_f(t)/Bâ‚(t)",
          "The interest rate differential",
          "Ïƒ_X only"
        ],
        answer: 1,
        explanation: "dP_f/dPâ‚|_{ğ“•â‚œ} = Y(t) = X(t)B_f(t)/Bâ‚(t), the FX rate adjusted by bank account ratios. This is the key to switching between domestic and foreign measures."
      },
      {
        id: "3.16",
        type: "mc",
        question: "A model is said to be 'arbitrage-free' if:",
        options: [
          "All derivatives have positive prices",
          "No self-financing strategy using model assets yields a certain positive profit",
          "Stock prices always go up",
          "The risk-neutral probability equals the real-world probability"
        ],
        answer: 1,
        explanation: "Arbitrage-free means no self-financing strategy can guarantee a positive profit with zero initial investment. The 1st FAPT links this to existence of an equivalent martingale measure."
      },
      {
        id: "3.17",
        type: "mc",
        question: "The numeraire in a market model is:",
        options: [
          "Any random variable",
          "A positive adapted stochastic process (tradable asset) used to compare values",
          "Always the risk-free bank account",
          "The stock price"
        ],
        answer: 1,
        explanation: "A numeraire is a positive adapted process representing a tradable asset. Common choices: bank account, zero-coupon bonds. Other asset prices are measured relative to it."
      },
      {
        id: "3.18",
        type: "mc",
        question: "If [X]â‚œ = âˆ«â‚€áµ— Î±(s)Â² ds when Xâ‚œ = âˆ«â‚€áµ— Î±(s) dB(s), the DolÃ©ans-Dade exponential â„°(X)â‚œ equals:",
        options: [
          "exp(âˆ«â‚€áµ— Î±(s) dB(s))",
          "exp(âˆ«â‚€áµ— Î±(s) dB(s) âˆ’ Â½âˆ«â‚€áµ— Î±(s)Â² ds)",
          "exp(Â½âˆ«â‚€áµ— Î±(s)Â² ds)",
          "exp(âˆ«â‚€áµ— Î±(s)Â² dB(s))"
        ],
        answer: 1,
        explanation: "â„°(X)â‚œ = exp(Xâ‚œ âˆ’ Â½[X]â‚œ) = exp(âˆ«â‚€áµ— Î±(s) dB(s) âˆ’ Â½âˆ«â‚€áµ— Î±(s)Â² ds). This is the exponential martingale used in Girsanov's theorem."
      }
    ]
  },
  {
    id: 4,
    title: "Ch 4 â€“ Basic Models",
    questions: [
      {
        id: "4.1",
        type: "mc",
        question: "The SDE for Geometric Brownian Motion (GBM) is:",
        options: [
          "dS = Î¼ dt + Ïƒ dB",
          "dS = Î¼S dt + ÏƒS dB",
          "dS = Î¼SÂ² dt + ÏƒS dB",
          "dS = Î¼S dt + Ïƒ dB"
        ],
        answer: 1,
        explanation: "GBM: dS = Î¼S dt + ÏƒS dB. Both drift and diffusion are proportional to S, which keeps S positive and gives log-normal returns."
      },
      {
        id: "4.2",
        type: "mc",
        question: "The solution of GBM dS = Î¼S dt + ÏƒS dB is S(t) = S(0)Â·exp(...):",
        options: [
          "(Î¼ + Â½ÏƒÂ²)t + ÏƒB(t)",
          "(Î¼ âˆ’ Â½ÏƒÂ²)t + ÏƒB(t)",
          "Î¼t + ÏƒB(t)",
          "(Î¼ âˆ’ ÏƒÂ²)t + ÏƒB(t)"
        ],
        answer: 1,
        explanation: "S(t) = S(0)exp((Î¼ âˆ’ Â½ÏƒÂ²)t + ÏƒB(t)). The âˆ’Â½ÏƒÂ² correction comes from ItÃ´'s lemma applied to ln(S)."
      },
      {
        id: "4.3",
        type: "mc",
        question: "In the Black-Scholes model under the risk-neutral measure, the drift Î¼(t) must equal:",
        options: [
          "Ïƒ(t)",
          "0",
          "r(t), the risk-free rate",
          "r(t) âˆ’ Ïƒ(t)"
        ],
        answer: 2,
        explanation: "Risk-neutrality requires E^Q[S(t)/C(t)] = S(0), where C is the bank account. This forces Î¼(t) = r(t)."
      },
      {
        id: "4.4",
        type: "mc",
        question: "The Black-Scholes call price formula C = Sâ‚€N(dâ‚Š) âˆ’ Ke^{âˆ’rT}N(dâ‚‹) uses N(Â·) which is:",
        options: [
          "The normal density function",
          "The standard normal CDF",
          "The lognormal CDF",
          "The Poisson CDF"
        ],
        answer: 1,
        explanation: "N(Â·) is the standard normal cumulative distribution function (CDF). The formula integrates the lognormal payoff analytically."
      },
      {
        id: "4.5",
        type: "mc",
        question: "In GBM, the log return ln(S(t)/S(0)) has distribution:",
        options: [
          "Normal N(Î¼t, ÏƒÂ²t)",
          "Normal N((Î¼âˆ’Â½ÏƒÂ²)t, ÏƒÂ²t)",
          "Lognormal",
          "Normal N(Î¼t, Ïƒt)"
        ],
        answer: 1,
        explanation: "ln(S(t)/S(0)) = (Î¼ âˆ’ Â½ÏƒÂ²)t + ÏƒB(t) ~ N((Î¼ âˆ’ Â½ÏƒÂ²)t, ÏƒÂ²t). The return is normally distributed; the price itself is lognormal."
      },
      {
        id: "4.6",
        type: "mc",
        question: "The Black-Scholes implied volatility Î£(T,K) is the volatility that:",
        options: [
          "Minimizes the historical estimation error",
          "Makes the BS formula match the observed market call price",
          "Equals the realized volatility",
          "Is constant across all strikes"
        ],
        answer: 1,
        explanation: "The implied volatility is the Ïƒ that, when plugged into the Black-Scholes formula, reproduces the observed market price of the option."
      },
      {
        id: "4.7",
        type: "mc",
        question: "The Vasicek model SDE is dr = Îº(Î¸ âˆ’ r)dt + Ïƒ dB. The term Îº(Î¸ âˆ’ r) represents:",
        options: [
          "Brownian diffusion",
          "Mean reversion toward Î¸ at speed Îº",
          "A jump component",
          "The risk premium"
        ],
        answer: 1,
        explanation: "Îº(Î¸ âˆ’ r) is the mean-reversion drift: when r > Î¸ the drift is negative (pulling r down), and when r < Î¸ it's positive (pulling r up). Îº = speed, Î¸ = level."
      },
      {
        id: "4.8",
        type: "mc",
        question: "In the Vasicek model, r(t)|r(s) has distribution:",
        options: [
          "Lognormal",
          "Chi-squared",
          "Normal",
          "Exponential"
        ],
        answer: 2,
        explanation: "r(t)|r(s) ~ N(Î¸ + (r(s)âˆ’Î¸)e^{âˆ’Îº(tâˆ’s)}, ÏƒÂ²/(2Îº)(1âˆ’e^{âˆ’2Îº(tâˆ’s)})). The Vasicek short rate is Gaussian, which is both a feature and a drawback (rates can go negative)."
      },
      {
        id: "4.9",
        type: "mc",
        question: "A key drawback of Vasicek's model is:",
        options: [
          "It cannot be simulated exactly",
          "Short rates can become negative",
          "It has no analytic bond price formula",
          "It requires too many parameters"
        ],
        answer: 1,
        explanation: "The Gaussian distribution of r(t) means rates can go negative, which was historically considered unrealistic (though negative rates have occurred in practice)."
      },
      {
        id: "4.10",
        type: "mc",
        question: "The Vasicek zero-coupon bond price P(t,T) = A(t,T)Â·e^{âˆ’B(t,T)Â·r(t)} has an 'affine' structure because:",
        options: [
          "ln P is a quadratic function of r",
          "ln P is an affine (linear) function of r",
          "P is independent of r",
          "P is a polynomial in r"
        ],
        answer: 1,
        explanation: "ln P(t,T) = ln A(t,T) âˆ’ B(t,T)Â·r(t), which is affine (linear + constant) in r. This allows the entire yield curve to be derived from the short rate."
      },
      {
        id: "4.11",
        type: "mc",
        question: "The halvation time Ï„ in the Vasicek model satisfies e^{âˆ’ÎºÏ„} = Â½. It represents:",
        options: [
          "The time for rates to double",
          "The time for the deviation from Î¸ to halve (on average)",
          "The time for volatility to halve",
          "Half the maturity of the bond"
        ],
        answer: 1,
        explanation: "E[r(t)|r(s)] = Î¸ + (r(s)âˆ’Î¸)e^{âˆ’Îº(tâˆ’s)}. The deviation from Î¸ halves after time Ï„ = ln(2)/Îº. This is the mean-reversion half-life."
      },
      {
        id: "4.12",
        type: "mc",
        question: "Hull-White's model extends Vasicek by replacing Î¸ with Î¸(t) to:",
        options: [
          "Make volatility stochastic",
          "Ensure short rates are always positive",
          "Match the market's current zero-coupon bond prices",
          "Add jump components"
        ],
        answer: 2,
        explanation: "Hull-White uses Î¸(t) calibrated so that P(0,T) matches observed market bond prices. This ensures market consistency at time 0."
      },
      {
        id: "4.13",
        type: "mc",
        question: "The CIR model SDE is dr = Îº(Î¸âˆ’r)dt + Ïƒâˆšr dB. Rates remain positive if:",
        options: [
          "Îº > Ïƒ",
          "2ÎºÎ¸ > ÏƒÂ²",
          "Î¸ > ÏƒÂ²",
          "ÎºÎ¸ > Ïƒ"
        ],
        answer: 1,
        explanation: "The Feller condition 2ÎºÎ¸ > ÏƒÂ² ensures the CIR process stays strictly positive. The âˆšr term shrinks volatility near zero, preventing negative values."
      },
      {
        id: "4.14",
        type: "mc",
        question: "The CIR short rate r(T)|r(t) follows a:",
        options: [
          "Normal distribution",
          "Lognormal distribution",
          "Noncentral chi-squared distribution",
          "Exponential distribution"
        ],
        answer: 2,
        explanation: "The CIR transition density involves a noncentral chi-squared distribution Ï‡Â²(2dr(T); 2q+2, 2u), with positively skewed distribution."
      },
      {
        id: "4.15",
        type: "mc",
        question: "Consider dr = Îº(Î¸âˆ’r)dt + Ïƒr dB (proportional volatility). What happens to E[exp(âˆ«â‚€áµ— r(s) ds)]?",
        options: [
          "It is finite for all t",
          "It equals 1",
          "It is infinite (bank account explodes)",
          "It equals e^{Î¸t}"
        ],
        answer: 2,
        explanation: "With volatility proportional to r (not âˆšr), the bank account e^{âˆ«r ds} has infinite expectation. The model is unrealistic because extreme rate paths dominate."
      },
      {
        id: "4.16",
        type: "mc",
        question: "The CIR++ model extends CIR by setting r(t) = x(t) + Ï†(t) where Ï†(t) is chosen to:",
        options: [
          "Make rates always positive",
          "Match market bond prices (like Hull-White for Vasicek)",
          "Eliminate mean reversion",
          "Add jumps to the process"
        ],
        answer: 1,
        explanation: "CIR++ adds a deterministic shift Ï†(t) = f^M(0,t) âˆ’ f^{CIR}(0,t) to recover market bond prices, analogous to Hull-White's extension of Vasicek."
      },
      {
        id: "4.17",
        type: "mc",
        question: "For GBM with constant Ïƒ, E[exp(âˆ’Â½ÏƒÂ²t + ÏƒB(t))] equals:",
        options: ["0", "e^{ÏƒÂ²t}", "1", "e^{âˆ’ÏƒÂ²t/2}"],
        answer: 2,
        explanation: "For X ~ N(0, ÏƒÂ²t): E[e^X] = e^{ÏƒÂ²t/2}. So E[e^{âˆ’Â½ÏƒÂ²t + ÏƒB(t)}] = e^{âˆ’Â½ÏƒÂ²t} Â· e^{Â½ÏƒÂ²t} = 1. This is the exponential martingale property."
      },
      {
        id: "4.18",
        type: "mc",
        question: "If dx = âˆ’Îºx dt + Ïƒ dB and f(x,t) = xe^{Îºt}, then by ItÃ´'s lemma df equals:",
        options: [
          "Îºxe^{Îºt} dt + Ïƒe^{Îºt} dB + e^{Îºt}(âˆ’Îºx dt + Ïƒ dB)",
          "Ïƒe^{Îºt} dB",
          "Îºxe^{Îºt} dt",
          "âˆ’Îºxe^{Îºt} dt + Ïƒe^{Îºt} dB"
        ],
        answer: 1,
        explanation: "df = fâ‚œ dt + fâ‚“ dx = Îºxe^{Îºt} dt + e^{Îºt}(âˆ’Îºx dt + Ïƒ dB) = Ïƒe^{Îºt} dB. The drift terms cancel, leaving a pure Brownian integral â€” key to solving the Vasicek SDE."
      },
      {
        id: "4.19",
        type: "mc",
        question: "In the Vasicek model, the variance of âˆ«â‚€áµ€ r(u)du | r(0) depends on:",
        options: [
          "Only Ïƒ",
          "Ïƒ, Îº, and T",
          "Ïƒ, Îº, Î¸, and T",
          "Only r(0) and T"
        ],
        answer: 1,
        explanation: "V(0,T) = (ÏƒÂ²/ÎºÂ²)(T âˆ’ B(0,T) âˆ’ ÎºB(0,T)Â²/2) where B depends on Îº and T. The variance depends on Ïƒ, Îº, and T â€” not Î¸ or r(0)."
      },
      {
        id: "4.20",
        type: "numeric",
        question: "In the Black-Scholes model, if Ïƒ = 0 and r is constant, what is the call price C for Sâ‚€ = 100, K = 90, r = 5%, T = 1? (Round to 2 decimal places)",
        answer: 14.39,
        tolerance: 0.05,
        explanation: "With Ïƒ = 0: S(T) = Sâ‚€e^{rT} = 100e^{0.05} â‰ˆ 105.13. C = e^{âˆ’rT}max(S(T)âˆ’K, 0) = e^{âˆ’0.05}Â·15.13 â‰ˆ 14.39."
      }
    ]
  },
  {
    id: 5,
    title: "Ch 5 â€“ Interest Rate Market Models",
    questions: [
      {
        id: "5.1",
        type: "mc",
        question: "The forward rate F(t,Tâ‚,Tâ‚‚) in terms of zero-coupon bonds is:",
        options: [
          "(P(t,Tâ‚‚)/P(t,Tâ‚) âˆ’ 1) / (Tâ‚‚ âˆ’ Tâ‚)",
          "(P(t,Tâ‚)/P(t,Tâ‚‚) âˆ’ 1) / (Tâ‚‚ âˆ’ Tâ‚)",
          "P(t,Tâ‚) âˆ’ P(t,Tâ‚‚)",
          "ln(P(t,Tâ‚)/P(t,Tâ‚‚)) / (Tâ‚‚ âˆ’ Tâ‚)"
        ],
        answer: 1,
        explanation: "F(t,Tâ‚,Tâ‚‚) = (P(t,Tâ‚)/P(t,Tâ‚‚) âˆ’ 1)/(Tâ‚‚ âˆ’ Tâ‚). This is the simply-compounded forward rate implied by current bond prices."
      },
      {
        id: "5.2",
        type: "mc",
        question: "A caplet pays off (Tâ‚‚âˆ’Tâ‚)Â·max(0, L(Tâ‚,Tâ‚‚) âˆ’ K) at time:",
        options: ["Tâ‚", "Tâ‚‚", "(Tâ‚+Tâ‚‚)/2", "0"],
        answer: 1,
        explanation: "The caplet payment occurs at Tâ‚‚ (the end of the accrual period), when the LIBOR rate L(Tâ‚,Tâ‚‚) fixed at Tâ‚ is known."
      },
      {
        id: "5.3",
        type: "mc",
        question: "Under the Tâ‚‚-forward measure, the forward rate F(t,Tâ‚,Tâ‚‚) must be a:",
        options: [
          "Submartingale",
          "Supermartingale",
          "Martingale",
          "Constant"
        ],
        answer: 2,
        explanation: "P(t,Tâ‚‚)Â·F(t,Tâ‚,Tâ‚‚) is the price of a tradable asset, so F/1 = F itself must be a martingale under the Tâ‚‚-forward measure Q(Tâ‚‚)."
      },
      {
        id: "5.4",
        type: "mc",
        question: "The LIBOR market model specifies each forward rate Fâ‚–(t) under its own forward measure as:",
        options: [
          "dFâ‚– = Ïƒâ‚– dt",
          "dFâ‚– = Ïƒâ‚– Fâ‚– dBâ‚– (driftless lognormal)",
          "dFâ‚– = Îº(Î¸ âˆ’ Fâ‚–) dt + Ïƒâ‚– dBâ‚–",
          "dFâ‚– = Ïƒâ‚– âˆšFâ‚– dBâ‚–"
        ],
        answer: 1,
        explanation: "Under its own forward measure: dFâ‚–/Fâ‚– = Ïƒâ‚–(t) dBáµ â€” a driftless lognormal process. This ensures Fâ‚– is a martingale and leads to the Black caplet formula."
      },
      {
        id: "5.5",
        type: "mc",
        question: "When expressing all forward rates under a single Táµ¢-forward measure, what appears?",
        options: [
          "No change â€” all rates remain driftless",
          "Drift corrections involving correlation and other forward rates",
          "The forward rates become deterministic",
          "The volatilities change but drifts stay zero"
        ],
        answer: 1,
        explanation: "Under a common measure, non-martingale forward rates acquire drift corrections Î£â±¼ Ïâ‚–,â±¼ Ïƒâ±¼ Ï„â±¼ Fâ±¼/(1 + Ï„â±¼Fâ±¼). These corrections require time discretization for simulation."
      },
      {
        id: "5.6",
        type: "mc",
        question: "The swap rate S_{Î±,Î²}(t) equals:",
        options: [
          "P(t,TÎ±) + P(t,TÎ²)",
          "(P(t,TÎ±) âˆ’ P(t,TÎ²)) / Î£â±¼ P(t,Tâ±¼)Ï„â±¼",
          "F(t,TÎ±,TÎ²)",
          "LIBOR rate at time t"
        ],
        answer: 1,
        explanation: "The swap rate S_{Î±,Î²}(t) = (P(t,TÎ±) âˆ’ P(t,TÎ²)) / Î£_{j=Î±+1}^Î² P(t,Tâ±¼)Ï„â±¼ equates the present values of fixed and floating legs."
      },
      {
        id: "5.7",
        type: "mc",
        question: "A payer swaption gives the right to:",
        options: [
          "Receive fixed and pay floating",
          "Enter the swap as fixed-leg payer at a specified rate",
          "Buy a zero-coupon bond at par",
          "Cancel an existing swap"
        ],
        answer: 1,
        explanation: "A payer swaption = right to enter the swap paying fixed rate K. You exercise when the market swap rate exceeds K."
      },
      {
        id: "5.8",
        type: "mc",
        question: "The swap numeraire C^{Î±,Î²}(t) equals:",
        options: [
          "P(t,TÎ±)",
          "Î£â±¼â‚ŒÎ±â‚Šâ‚^Î² P(t,Tâ±¼)Ï„â±¼",
          "P(t,TÎ²)",
          "1"
        ],
        answer: 1,
        explanation: "C^{Î±,Î²}(t) = Î£ P(t,Tâ±¼)Ï„â±¼ is the present value of the fixed-leg annuity. It's a portfolio of zero-coupon bonds and hence a tradable asset, making it a valid numeraire."
      },
      {
        id: "5.9",
        type: "mc",
        question: "The value of the floating leg of a standard swap (at time t < TÎ±) equals:",
        options: [
          "P(t,TÎ±) + P(t,TÎ²)",
          "P(t,TÎ±) âˆ’ P(t,TÎ²)",
          "K Â· Î£ P(t,Tâ±¼)Ï„â±¼",
          "1 âˆ’ P(t,TÎ²)"
        ],
        answer: 1,
        explanation: "The floating leg can be replicated by buying a TÎ±-bond and selling a TÎ²-bond, giving value P(t,TÎ±) âˆ’ P(t,TÎ²). This uses a rolling reinvestment argument."
      },
      {
        id: "5.10",
        type: "mc",
        question: "The Black formula for caplets arises because under the Tâ‚‚-forward measure, F(t,Tâ‚,Tâ‚‚) follows:",
        options: [
          "An arithmetic Brownian motion",
          "A geometric Brownian motion (lognormal martingale)",
          "A CIR process",
          "A Vasicek process"
        ],
        answer: 1,
        explanation: "dF = ÏƒF dW^{Q(Tâ‚‚)} is a lognormal martingale under the Tâ‚‚-forward measure, leading directly to a Black-Scholes-like (Black) formula for the caplet."
      }
    ]
  },
  {
    id: 6,
    title: "Ch 6 â€“ Heston's Model",
    questions: [
      {
        id: "6.1",
        type: "mc",
        question: "The Heston model assumes that the variance ÏƒÂ²(t) follows:",
        options: [
          "A geometric Brownian motion",
          "A CIR (Cox-Ingersoll-Ross) process",
          "A constant",
          "A Poisson process"
        ],
        answer: 1,
        explanation: "dÏƒÂ²(t) = Îº(Î¸ âˆ’ ÏƒÂ²(t))dt + Î¾Ïƒ(t)dBÏƒ(t) is a CIR process for the variance. This ensures variance stays positive (under the Feller condition) and mean-reverts."
      },
      {
        id: "6.2",
        type: "mc",
        question: "The 'volatility smile' in equity markets often appears as:",
        options: [
          "Implied vol is constant across strikes",
          "Higher implied vol for very low and very high strikes (smile)",
          "Higher implied vol for low strikes, lower for high strikes (skew)",
          "Implied vol decreases for all strikes"
        ],
        answer: 2,
        explanation: "For equities, a 'skew' is typical: implied volatility is higher for lower strikes (OTM puts) reflecting fat left tails and crash risk."
      },
      {
        id: "6.3",
        type: "mc",
        question: "In the Heston model, the correlation Ï between asset and variance Brownian motions is typically set to Ï < 0 for equities because:",
        options: [
          "It reduces computational cost",
          "It produces a volatility skew (lower strikes have higher implied vol)",
          "It ensures rates are positive",
          "It has no effect on the smile"
        ],
        answer: 1,
        explanation: "Ï < 0 means that when the stock drops, variance tends to increase â€” the 'leverage effect'. This produces fatter left tails and a volatility skew."
      },
      {
        id: "6.4",
        type: "mc",
        question: "The Heston model has how many parameters to calibrate (for a risk-neutral model)?",
        options: ["3", "4", "5", "6"],
        answer: 2,
        explanation: "Five parameters: Îº (mean-reversion speed), Î¸ (long-run variance), Î¾ (vol-of-vol), Ï (correlation), and ÏƒÂ²(0) (initial variance). The drift Î¼ = r is fixed by risk-neutrality."
      },
      {
        id: "6.5",
        type: "mc",
        question: "Volatility clustering in the Heston model means:",
        options: [
          "Volatility is constant over time",
          "High-volatility periods tend to be followed by high-volatility periods",
          "Variance is independent across time intervals",
          "Stock returns are i.i.d."
        ],
        answer: 1,
        explanation: "Stochastic, mean-reverting variance creates volatility clustering: the variances of log returns over consecutive intervals are positively correlated."
      },
      {
        id: "6.6",
        type: "mc",
        question: "E[(1/T)âˆ«â‚€áµ€ ÏƒÂ²(t) dt] in the Heston model equals:",
        options: [
          "Î¸",
          "ÏƒÂ²(0)",
          "Î¸ + (ÏƒÂ²(0)âˆ’Î¸)(1âˆ’e^{âˆ’ÎºT})/(ÎºT)",
          "Î¸(1 âˆ’ e^{âˆ’ÎºT})"
        ],
        answer: 2,
        explanation: "The expected average variance = Î¸ + (ÏƒÂ²(0)âˆ’Î¸)(1âˆ’e^{âˆ’ÎºT})/(ÎºT). As T â†’ âˆ this converges to Î¸, the long-run variance level."
      },
      {
        id: "6.7",
        type: "mc",
        question: "The put-call parity implies that the implied volatility of a call equals:",
        options: [
          "The implied volatility of a put with same strike and maturity",
          "Half the implied volatility of the put",
          "The realized volatility",
          "A different value depending on the model"
        ],
        answer: 0,
        explanation: "Put-call parity: C âˆ’ P = S âˆ’ Ke^{âˆ’rT} is model-independent. Both options agree on implied vol since the parity holds for any volatility input."
      },
      {
        id: "6.8",
        type: "mc",
        question: "The Heston model struggles to fit market prices for:",
        options: [
          "Long-maturity options",
          "At-the-money options",
          "Short-maturity options (because it lacks jumps)",
          "All options"
        ],
        answer: 2,
        explanation: "Short-maturity smiles are driven by jumps, which Heston doesn't model. Long-maturity options are well-captured by stochastic volatility alone."
      }
    ]
  },
  {
    id: 7,
    title: "Ch 7 â€“ LÃ©vy Processes",
    questions: [
      {
        id: "7.1",
        type: "mc",
        question: "A Poisson process N_Î»(t) has increments that follow a:",
        options: [
          "Normal distribution",
          "Poisson distribution with parameter Î»t",
          "Exponential distribution",
          "Gamma distribution"
        ],
        answer: 1,
        explanation: "N_Î»(t) âˆ’ N_Î»(s) ~ Poisson(Î»(tâˆ’s)). The increments are Poisson-distributed with parameter proportional to the interval length."
      },
      {
        id: "7.2",
        type: "mc",
        question: "The first jump time Ï„ of a Poisson process N_Î»(t) has distribution:",
        options: [
          "Poisson(Î»)",
          "N(0, 1/Î»)",
          "Exp(Î»)",
          "Uniform(0, 1/Î»)"
        ],
        answer: 2,
        explanation: "P(Ï„ > t) = P(N_Î»(t) = 0) = e^{âˆ’Î»t}, so Ï„ ~ Exp(Î»). The inter-arrival times of a Poisson process are exponentially distributed."
      },
      {
        id: "7.3",
        type: "mc",
        question: "A compound Poisson process X(t) = Î£áµ¢â‚Œâ‚^{N(t)} Jáµ¢ differs from a Poisson process in that:",
        options: [
          "It has dependent increments",
          "Jump sizes can vary (according to a jump size measure J)",
          "It has continuous paths",
          "It has non-independent increments"
        ],
        answer: 1,
        explanation: "A compound Poisson process has random jump sizes Jáµ¢ drawn from a jump size measure J, while a Poisson process always jumps by 1."
      },
      {
        id: "7.4",
        type: "mc",
        question: "A LÃ©vy process must have:",
        options: [
          "Continuous paths",
          "Independent and identically distributed increments over disjoint same-length intervals",
          "Normal distribution at each time",
          "Finite jump activity"
        ],
        answer: 1,
        explanation: "A LÃ©vy process has stationary independent increments (same distribution for same-length intervals, independent over disjoint intervals), starts at 0, is cÃ dlÃ g, and continuous in probability."
      },
      {
        id: "7.5",
        type: "mc",
        question: "The LÃ©vy-Khintchine formula characterizes a LÃ©vy process through its triplet:",
        options: [
          "(Î¼, Ïƒ, Îº)",
          "(a, Ïƒ, Î ) â€” drift, diffusion, jump intensity measure",
          "(Îº, Î¸, Ïƒ)",
          "(Î¼, Ïƒ, Ï)"
        ],
        answer: 1,
        explanation: "Every LÃ©vy process is determined by (a, Ïƒ, Î ): drift a, Brownian component Ïƒ, and LÃ©vy (jump intensity) measure Î  satisfying âˆ« min(1,xÂ²) Î (dx) < âˆ."
      },
      {
        id: "7.6",
        type: "mc",
        question: "If the LÃ©vy measure Î  satisfies Î (â„\\{0}) = âˆ, the process has:",
        options: [
          "No jumps",
          "Finitely many jumps in any time interval",
          "Infinitely many jumps in any time interval of positive length",
          "Exactly one jump per unit time"
        ],
        answer: 2,
        explanation: "If Î (â„\\{0}) = âˆ, the process has infinite jump activity â€” infinitely many (small) jumps in any interval of positive length. Example: the Gamma process."
      },
      {
        id: "7.7",
        type: "mc",
        question: "The Gamma process Î“_Î½(t) has the property that Î“_Î½(t) has a Gamma distribution with:",
        options: [
          "Mean Î½ and variance t",
          "Mean t and variance Î½t",
          "Mean Î½t and variance t",
          "Mean t and variance Î½"
        ],
        answer: 1,
        explanation: "Î“_Î½(t) ~ Gamma(mean = t, variance = Î½t). The parameter Î½ controls the variance per unit time."
      },
      {
        id: "7.8",
        type: "mc",
        question: "The Variance Gamma (VG) process is constructed by:",
        options: [
          "Adding a Gamma process to Brownian motion",
          "Time-changing Brownian motion with drift by an independent Gamma process",
          "Multiplying Brownian motion by a Gamma random variable",
          "Taking the square of a Gamma process"
        ],
        answer: 1,
        explanation: "VG: X(t) = Î¸Î“_Î½(t) + ÏƒB(Î“_Î½(t)), where Î“_Î½ and B are independent. The Gamma process acts as a stochastic clock (time change) for BM with drift."
      },
      {
        id: "7.9",
        type: "mc",
        question: "Infinite divisibility of a distribution means:",
        options: [
          "It has infinite variance",
          "For any n, it can be written as the sum of n i.i.d. random variables",
          "Its support is all of â„",
          "It has a density function"
        ],
        answer: 1,
        explanation: "A distribution is infinitely divisible if for every n, X =áµˆ Yâ‚ + Â·Â·Â· + Yâ‚™ where the Yáµ¢ are i.i.d. Every LÃ©vy process value X(1) has an infinitely divisible distribution, and conversely."
      },
      {
        id: "7.10",
        type: "mc",
        question: "In the VG model for equity log-returns, setting Î¸ < 0 produces:",
        options: [
          "Symmetric return distribution",
          "Fatter right tails",
          "Fatter left tails / volatility skew",
          "No skewness effect"
        ],
        answer: 2,
        explanation: "Î¸ < 0 in the VG drift gives negative skewness: left tail is fatter. This models the empirically observed volatility skew in equity markets."
      },
      {
        id: "7.11",
        type: "mc",
        question: "A compound Poisson process reduces to a standard Poisson process if and only if:",
        options: [
          "The jump measure J is uniform",
          "The jump measure J is the Dirac measure at 1: J({1}) = 1",
          "Î» = 1",
          "The jump sizes are normally distributed"
        ],
        answer: 1,
        explanation: "If all jumps have size exactly 1 (J = Î´â‚), then X(t) = Î£áµ¢â‚Œâ‚^{N(t)} 1 = N(t), recovering the standard Poisson process."
      },
      {
        id: "7.12",
        type: "mc",
        question: "The characteristic function of a Poisson process N_Î»(1) is:",
        options: [
          "e^{Î»(e^{iÎ¸} âˆ’ 1)}",
          "e^{iÎ»Î¸}",
          "(1 âˆ’ iÎ¸/Î»)^{âˆ’1}",
          "e^{âˆ’Î»Î¸Â²/2}"
        ],
        answer: 0,
        explanation: "Î¦_{N_Î»(1)}(Î¸) = E[e^{iÎ¸N_Î»(1)}] = Î£â‚™ e^{iÎ¸n}(Î»â¿/n!)e^{âˆ’Î»} = e^{Î»(e^{iÎ¸}âˆ’1)}. This fully characterizes the Poisson distribution."
      },
      {
        id: "7.13",
        type: "mc",
        question: "Using a stochastic time change (chronometer) Ï„(t) on a LÃ©vy process X produces:",
        options: [
          "Always another LÃ©vy process",
          "A process that can exhibit volatility clustering",
          "A deterministic process",
          "An adapted process with independent increments"
        ],
        answer: 1,
        explanation: "Time-changing with a dependent chronometer (like integrated Vasicek) breaks the i.i.d. increment property, creating volatility clustering â€” periods of fast/slow 'time' correspond to high/low volatility."
      },
      {
        id: "7.14",
        type: "mc",
        question: "For pricing vanilla calls via characteristic functions, why multiply C(k) by e^{Î±k}?",
        options: [
          "To improve convergence of Monte Carlo",
          "To make the modified call price square-integrable for Fourier transform",
          "To adjust for dividends",
          "To change the numeraire"
        ],
        answer: 1,
        explanation: "C(k) â†’ Sâ‚€ as k â†’ âˆ’âˆ, so it's not LÂ². Multiplying by e^{Î±k} (with suitable Î± > 0) ensures c(k) = e^{Î±k}C(k) is square-integrable, enabling Fourier inversion."
      }
    ]
  }
];
